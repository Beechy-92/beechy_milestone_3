{% extends "still_mind/base.html" %}

{% block title %}Posts â€¢ StillMind{% endblock %}

{% block content %}
<h1 class="h3 mb-3">Recent Posts</h1>

<a href="{% url 'still_mind:post_create' %}" class="btn btn-primary mb-3">
  New Post
</a>

{% if object_list %}
  <ul class="list-group">
    {% for post in object_list %}
      <li class="list-group-item">
        <a href="{% url 'still_mind:post_detail' slug=post.slug %}">
          {{ post.title }}
        </a>

        {% if post.summary %}
          <p class="mb-1">{{ post.summary }}</p>
        {% endif %}

        <small class="text-muted">
          {{ post.created_at|date:"M d, Y H:i" }}
          | Mood: {{ post.mood|default:"(none)" }}
          | Status: {{ post.get_status_display }}
        </small>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <div class="alert alert-secondary mt-3">No posts yet.</div>
{% endif %}

{% endblock %}